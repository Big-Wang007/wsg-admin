{"version":3,"file":"import-html-entry-DDVcqYXZ.js","sources":["../../node_modules/import-html-entry/esm/allSettledButCanBreak.js","../../node_modules/import-html-entry/esm/utils.js","../../node_modules/import-html-entry/esm/process-tpl.js","../../node_modules/import-html-entry/esm/index.js"],"sourcesContent":["export function allSettledButCanBreak(promises, shouldBreakWhileError) {\n  return Promise.all(promises.map(function (promise, i) {\n    return promise.then(function (value) {\n      return {\n        status: 'fulfilled',\n        value: value\n      };\n    })[\"catch\"](function (reason) {\n      if (shouldBreakWhileError !== null && shouldBreakWhileError !== void 0 && shouldBreakWhileError(i)) {\n        throw reason;\n      }\n      return {\n        status: 'rejected',\n        reason: reason\n      };\n    });\n  }));\n  ;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2019-02-25\n * fork from https://github.com/systemjs/systemjs/blob/master/src/extras/global.js\n */\n\nvar isIE11 = typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Trident') !== -1;\nfunction shouldSkipProperty(global, p) {\n  if (!global.hasOwnProperty(p) || !isNaN(p) && p < global.length) return true;\n  if (isIE11) {\n    // https://github.com/kuitos/import-html-entry/pull/32，最小化 try 范围\n    try {\n      return global[p] && typeof window !== 'undefined' && global[p].parent === window;\n    } catch (err) {\n      return true;\n    }\n  } else {\n    return false;\n  }\n}\n\n// safari unpredictably lists some new globals first or second in object order\nvar firstGlobalProp, secondGlobalProp, lastGlobalProp;\nexport function getGlobalProp(global) {\n  var cnt = 0;\n  var lastProp;\n  var hasIframe = false;\n  for (var p in global) {\n    if (shouldSkipProperty(global, p)) continue;\n\n    // 遍历 iframe，检查 window 上的属性值是否是 iframe，是则跳过后面的 first 和 second 判断\n    for (var i = 0; i < window.frames.length && !hasIframe; i++) {\n      var frame = window.frames[i];\n      if (frame === global[p]) {\n        hasIframe = true;\n        break;\n      }\n    }\n    if (!hasIframe && (cnt === 0 && p !== firstGlobalProp || cnt === 1 && p !== secondGlobalProp)) return p;\n    cnt++;\n    lastProp = p;\n  }\n  if (lastProp !== lastGlobalProp) return lastProp;\n}\nexport function noteGlobalProps(global) {\n  // alternatively Object.keys(global).pop()\n  // but this may be faster (pending benchmarks)\n  firstGlobalProp = secondGlobalProp = undefined;\n  for (var p in global) {\n    if (shouldSkipProperty(global, p)) continue;\n    if (!firstGlobalProp) firstGlobalProp = p;else if (!secondGlobalProp) secondGlobalProp = p;\n    lastGlobalProp = p;\n  }\n  return lastGlobalProp;\n}\nexport function getInlineCode(match) {\n  var start = match.indexOf('>') + 1;\n  var end = match.lastIndexOf('<');\n  return match.substring(start, end);\n}\nexport function defaultGetPublicPath(entry) {\n  if (_typeof(entry) === 'object') {\n    return '/';\n  }\n  try {\n    var _URL = new URL(entry, location.href),\n      origin = _URL.origin,\n      pathname = _URL.pathname;\n    var paths = pathname.split('/');\n    // 移除最后一个元素\n    paths.pop();\n    return \"\".concat(origin).concat(paths.join('/'), \"/\");\n  } catch (e) {\n    console.warn(e);\n    return '';\n  }\n}\n\n// Detect whether browser supports `<script type=module>` or not\nexport function isModuleScriptSupported() {\n  var s = document.createElement('script');\n  return 'noModule' in s;\n}\n\n// RIC and shim for browsers setTimeout() without it\nexport var requestIdleCallback = window.requestIdleCallback || function requestIdleCallback(cb) {\n  var start = Date.now();\n  return setTimeout(function () {\n    cb({\n      didTimeout: false,\n      timeRemaining: function timeRemaining() {\n        return Math.max(0, 50 - (Date.now() - start));\n      }\n    });\n  }, 1);\n};\nexport function readResAsString(response, autoDetectCharset) {\n  // 未启用自动检测\n  if (!autoDetectCharset) {\n    return response.text();\n  }\n\n  // 如果没headers，发生在test环境下的mock数据，为兼容原有测试用例\n  if (!response.headers) {\n    return response.text();\n  }\n\n  // 如果没返回content-type，走默认逻辑\n  var contentType = response.headers.get('Content-Type');\n  if (!contentType) {\n    return response.text();\n  }\n\n  // 解析content-type内的charset\n  // Content-Type: text/html; charset=utf-8\n  // Content-Type: multipart/form-data; boundary=something\n  // GET请求下不会出现第二种content-type\n  var charset = 'utf-8';\n  var parts = contentType.split(';');\n  if (parts.length === 2) {\n    var _parts$1$split = parts[1].split('='),\n      _parts$1$split2 = _slicedToArray(_parts$1$split, 2),\n      value = _parts$1$split2[1];\n    var encoding = value && value.trim();\n    if (encoding) {\n      charset = encoding;\n    }\n  }\n\n  // 如果还是utf-8，那么走默认，兼容原有逻辑，这段代码删除也应该工作\n  if (charset.toUpperCase() === 'UTF-8') {\n    return response.text();\n  }\n\n  // 走流读取，编码可能是gbk，gb2312等，比如sofa 3默认是gbk编码\n  return response.blob().then(function (file) {\n    return new Promise(function (resolve, reject) {\n      var reader = new window.FileReader();\n      reader.onload = function () {\n        resolve(reader.result);\n      };\n      reader.onerror = reject;\n      reader.readAsText(file, charset);\n    });\n  });\n}\nvar evalCache = {};\nexport function evalCode(scriptSrc, code) {\n  var key = scriptSrc;\n  if (!evalCache[key]) {\n    var functionWrappedCode = \"(function(){\".concat(code, \"})\");\n    evalCache[key] = (0, eval)(functionWrappedCode);\n  }\n  var evalFunc = evalCache[key];\n  evalFunc.call(window);\n}\n\n// 转换 url 中的转义字符，例如 &amp; => &\nexport function parseUrl(url) {\n  var parser = new DOMParser();\n  var html = \"<script src=\\\"\".concat(url, \"\\\"></script>\");\n  var doc = parser.parseFromString(html, \"text/html\");\n  return doc.scripts[0].src;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2018-09-03 15:04\n */\nimport { getInlineCode, isModuleScriptSupported, parseUrl } from './utils';\nvar ALL_SCRIPT_REGEX = /(<script[\\s\\S]*?>)[\\s\\S]*?<\\/script>/gi;\nvar SCRIPT_TAG_REGEX = /<(script)\\s+((?!type=('|\")text\\/ng\\x2Dtemplate\\3)[\\s\\S])*?>[\\s\\S]*?<\\/\\1>/i;\nvar SCRIPT_SRC_REGEX = /.*\\ssrc=('|\")?([^>'\"\\s]+)/;\nvar SCRIPT_TYPE_REGEX = /.*\\stype=('|\")?([^>'\"\\s]+)/;\nvar SCRIPT_ENTRY_REGEX = /.*\\sentry\\s*.*/;\nvar SCRIPT_ASYNC_REGEX = /.*\\sasync\\s*.*/;\nvar SCRIPT_CROSSORIGIN_REGEX = /.*\\scrossorigin=('|\")?use-credentials\\1/;\nvar SCRIPT_NO_MODULE_REGEX = /.*\\snomodule\\s*.*/;\nvar SCRIPT_MODULE_REGEX = /.*\\stype=('|\")?module('|\")?\\s*.*/;\nvar LINK_TAG_REGEX = /<(link)\\s+[\\s\\S]*?>/ig;\nvar LINK_PRELOAD_OR_PREFETCH_REGEX = /\\srel=('|\")?(preload|prefetch)\\1/;\nvar LINK_HREF_REGEX = /.*\\shref=('|\")?([^>'\"\\s]+)/;\nvar LINK_AS_FONT = /.*\\sas=('|\")?font\\1.*/;\nvar STYLE_TAG_REGEX = /<style[^>]*>[\\s\\S]*?<\\/style>/gi;\nvar STYLE_TYPE_REGEX = /\\s+rel=('|\")?stylesheet\\1.*/;\nvar STYLE_HREF_REGEX = /.*\\shref=('|\")?([^>'\"\\s]+)/;\nvar HTML_COMMENT_REGEX = /<!--([\\s\\S]*?)-->/g;\nvar LINK_IGNORE_REGEX = /<link(\\s+|\\s+[\\s\\S]+\\s+)ignore(\\s*|\\s+[\\s\\S]*|=[\\s\\S]*)>/i;\nvar STYLE_IGNORE_REGEX = /<style(\\s+|\\s+[\\s\\S]+\\s+)ignore(\\s*|\\s+[\\s\\S]*|=[\\s\\S]*)>/i;\nvar SCRIPT_IGNORE_REGEX = /<script(\\s+|\\s+[\\s\\S]+\\s+)ignore(\\s*|\\s+[\\s\\S]*|=[\\s\\S]*)>/i;\nfunction hasProtocol(url) {\n  return url.startsWith('http://') || url.startsWith('https://');\n}\nfunction getEntirePath(path, baseURI) {\n  return new URL(path, baseURI).toString();\n}\nfunction isValidJavaScriptType(type) {\n  var handleTypes = ['text/javascript', 'module', 'application/javascript', 'text/ecmascript', 'application/ecmascript'];\n  return !type || handleTypes.indexOf(type) !== -1;\n}\nexport var genLinkReplaceSymbol = function genLinkReplaceSymbol(linkHref) {\n  var preloadOrPrefetch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return \"<!-- \".concat(preloadOrPrefetch ? 'prefetch/preload' : '', \" link \").concat(linkHref, \" replaced by import-html-entry -->\");\n};\nexport var genScriptReplaceSymbol = function genScriptReplaceSymbol(scriptSrc) {\n  var async = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var crossOrigin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return \"<!-- \".concat(crossOrigin ? 'cors' : '', \" \").concat(async ? 'async' : '', \" script \").concat(scriptSrc, \" replaced by import-html-entry -->\");\n};\nexport var inlineScriptReplaceSymbol = \"<!-- inline scripts replaced by import-html-entry -->\";\nexport var genIgnoreAssetReplaceSymbol = function genIgnoreAssetReplaceSymbol(url) {\n  return \"<!-- ignore asset \".concat(url || 'file', \" replaced by import-html-entry -->\");\n};\nexport var genModuleScriptReplaceSymbol = function genModuleScriptReplaceSymbol(scriptSrc, moduleSupport) {\n  return \"<!-- \".concat(moduleSupport ? 'nomodule' : 'module', \" script \").concat(scriptSrc, \" ignored by import-html-entry -->\");\n};\n\n/**\n * parse the script link from the template\n * 1. collect stylesheets\n * 2. use global eval to evaluate the inline scripts\n *    see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function#Difference_between_Function_constructor_and_function_declaration\n *    see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval#Do_not_ever_use_eval!\n * @param tpl\n * @param baseURI\n * @param postProcessTemplate\n * @stripStyles whether to strip the css links\n * @returns {{template: void | string | *, scripts: *[], entry: *}}\n */\nexport default function processTpl(tpl, baseURI, postProcessTemplate) {\n  var scripts = [];\n  var styles = [];\n  var entry = null;\n  var moduleSupport = isModuleScriptSupported();\n  var template = tpl\n\n  /*\n  remove html comment first\n  */.replace(HTML_COMMENT_REGEX, '').replace(LINK_TAG_REGEX, function (match) {\n    /*\n    change the css link\n    */\n    var styleType = !!match.match(STYLE_TYPE_REGEX);\n    if (styleType) {\n      var styleHref = match.match(STYLE_HREF_REGEX);\n      var styleIgnore = match.match(LINK_IGNORE_REGEX);\n      if (styleHref) {\n        var href = styleHref && styleHref[2];\n        var newHref = href;\n        if (href && !hasProtocol(href)) {\n          newHref = getEntirePath(href, baseURI);\n        }\n        if (styleIgnore) {\n          return genIgnoreAssetReplaceSymbol(newHref);\n        }\n        newHref = parseUrl(newHref);\n        styles.push(newHref);\n        return genLinkReplaceSymbol(newHref);\n      }\n    }\n    var preloadOrPrefetchType = match.match(LINK_PRELOAD_OR_PREFETCH_REGEX) && match.match(LINK_HREF_REGEX) && !match.match(LINK_AS_FONT);\n    if (preloadOrPrefetchType) {\n      var _match$match = match.match(LINK_HREF_REGEX),\n        _match$match2 = _slicedToArray(_match$match, 3),\n        linkHref = _match$match2[2];\n      return genLinkReplaceSymbol(linkHref, true);\n    }\n    return match;\n  }).replace(STYLE_TAG_REGEX, function (match) {\n    if (STYLE_IGNORE_REGEX.test(match)) {\n      return genIgnoreAssetReplaceSymbol('style file');\n    }\n    return match;\n  }).replace(ALL_SCRIPT_REGEX, function (match, scriptTag) {\n    var scriptIgnore = scriptTag.match(SCRIPT_IGNORE_REGEX);\n    var moduleScriptIgnore = moduleSupport && !!scriptTag.match(SCRIPT_NO_MODULE_REGEX) || !moduleSupport && !!scriptTag.match(SCRIPT_MODULE_REGEX);\n    // in order to keep the exec order of all javascripts\n\n    var matchedScriptTypeMatch = scriptTag.match(SCRIPT_TYPE_REGEX);\n    var matchedScriptType = matchedScriptTypeMatch && matchedScriptTypeMatch[2];\n    if (!isValidJavaScriptType(matchedScriptType)) {\n      return match;\n    }\n\n    // if it is a external script\n    if (SCRIPT_TAG_REGEX.test(match) && scriptTag.match(SCRIPT_SRC_REGEX)) {\n      /*\n      collect scripts and replace the ref\n      */\n\n      var matchedScriptEntry = scriptTag.match(SCRIPT_ENTRY_REGEX);\n      var matchedScriptSrcMatch = scriptTag.match(SCRIPT_SRC_REGEX);\n      var matchedScriptSrc = matchedScriptSrcMatch && matchedScriptSrcMatch[2];\n      if (entry && matchedScriptEntry) {\n        throw new SyntaxError('You should not set multiply entry script!');\n      }\n      if (matchedScriptSrc) {\n        // append the domain while the script not have a protocol prefix\n        if (!hasProtocol(matchedScriptSrc)) {\n          matchedScriptSrc = getEntirePath(matchedScriptSrc, baseURI);\n        }\n        matchedScriptSrc = parseUrl(matchedScriptSrc);\n      }\n      entry = entry || matchedScriptEntry && matchedScriptSrc;\n      if (scriptIgnore) {\n        return genIgnoreAssetReplaceSymbol(matchedScriptSrc || 'js file');\n      }\n      if (moduleScriptIgnore) {\n        return genModuleScriptReplaceSymbol(matchedScriptSrc || 'js file', moduleSupport);\n      }\n      if (matchedScriptSrc) {\n        var asyncScript = !!scriptTag.match(SCRIPT_ASYNC_REGEX);\n        var crossOriginScript = !!scriptTag.match(SCRIPT_CROSSORIGIN_REGEX);\n        scripts.push(asyncScript || crossOriginScript ? {\n          async: asyncScript,\n          src: matchedScriptSrc,\n          crossOrigin: crossOriginScript\n        } : matchedScriptSrc);\n        return genScriptReplaceSymbol(matchedScriptSrc, asyncScript, crossOriginScript);\n      }\n      return match;\n    } else {\n      if (scriptIgnore) {\n        return genIgnoreAssetReplaceSymbol('js file');\n      }\n      if (moduleScriptIgnore) {\n        return genModuleScriptReplaceSymbol('js file', moduleSupport);\n      }\n\n      // if it is an inline script\n      var code = getInlineCode(match);\n\n      // remove script blocks when all of these lines are comments.\n      var isPureCommentBlock = code.split(/[\\r\\n]+/).every(function (line) {\n        return !line.trim() || line.trim().startsWith('//');\n      });\n      if (!isPureCommentBlock) {\n        scripts.push(match);\n      }\n      return inlineScriptReplaceSymbol;\n    }\n  });\n  scripts = scripts.filter(function (script) {\n    // filter empty script\n    return !!script;\n  });\n  var tplResult = {\n    template: template,\n    scripts: scripts,\n    styles: styles,\n    // set the last script as entry if have not set\n    entry: entry || scripts[scripts.length - 1]\n  };\n  if (typeof postProcessTemplate === 'function') {\n    tplResult = postProcessTemplate(tplResult);\n  }\n  return tplResult;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2018-08-15 11:37\n */\n\nimport { allSettledButCanBreak } from './allSettledButCanBreak';\nimport processTpl, { genLinkReplaceSymbol, genScriptReplaceSymbol } from './process-tpl';\nimport { defaultGetPublicPath, evalCode, getGlobalProp, getInlineCode, noteGlobalProps, readResAsString, requestIdleCallback } from './utils';\nvar styleCache = {};\nvar scriptCache = {};\nvar embedHTMLCache = {};\nif (!window.fetch) {\n  throw new Error('[import-html-entry] Here is no \"fetch\" on the window env, you need to polyfill it');\n}\nvar defaultFetch = window.fetch.bind(window);\nfunction defaultGetTemplate(tpl) {\n  return tpl;\n}\n\n/**\n * convert external css link to inline style for performance optimization\n * @param template\n * @param styles\n * @param opts\n * @return embedHTML\n */\nfunction getEmbedHTML(template, styles) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _opts$fetch = opts.fetch,\n    fetch = _opts$fetch === void 0 ? defaultFetch : _opts$fetch;\n  var embedHTML = template;\n  return _getExternalStyleSheets(styles, fetch).then(function (styleSheets) {\n    embedHTML = styleSheets.reduce(function (html, styleSheet) {\n      var styleSrc = styleSheet.src;\n      var styleSheetContent = styleSheet.value;\n      html = html.replace(genLinkReplaceSymbol(styleSrc), isInlineCode(styleSrc) ? \"\".concat(styleSrc) : \"<style>/* \".concat(styleSrc, \" */\").concat(styleSheetContent, \"</style>\"));\n      return html;\n    }, embedHTML);\n    return embedHTML;\n  });\n}\nvar isInlineCode = function isInlineCode(code) {\n  return code.startsWith('<');\n};\nfunction getExecutableScript(scriptSrc, scriptText) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var proxy = opts.proxy,\n    strictGlobal = opts.strictGlobal,\n    _opts$scopedGlobalVar = opts.scopedGlobalVariables,\n    scopedGlobalVariables = _opts$scopedGlobalVar === void 0 ? [] : _opts$scopedGlobalVar;\n  var sourceUrl = isInlineCode(scriptSrc) ? '' : \"//# sourceURL=\".concat(scriptSrc, \"\\n\");\n\n  // 将 scopedGlobalVariables 拼接成变量声明，用于缓存全局变量，避免每次使用时都走一遍代理\n  var scopedGlobalVariableDefinition = scopedGlobalVariables.length ? \"const {\".concat(scopedGlobalVariables.join(','), \"}=this;\") : '';\n\n  // 通过这种方式获取全局 window，因为 script 也是在全局作用域下运行的，所以我们通过 window.proxy 绑定时也必须确保绑定到全局 window 上\n  // 否则在嵌套场景下， window.proxy 设置的是内层应用的 window，而代码其实是在全局作用域运行的，会导致闭包里的 window.proxy 取的是最外层的微应用的 proxy\n  var globalWindow = (0, eval)('window');\n  globalWindow.proxy = proxy;\n  // TODO 通过 strictGlobal 方式切换 with 闭包，待 with 方式坑趟平后再合并\n  return strictGlobal ? scopedGlobalVariableDefinition ? \";(function(){with(this){\".concat(scopedGlobalVariableDefinition).concat(scriptText, \"\\n\").concat(sourceUrl, \"}}).bind(window.proxy)();\") : \";(function(window, self, globalThis){with(window){;\".concat(scriptText, \"\\n\").concat(sourceUrl, \"}}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);\") : \";(function(window, self, globalThis){;\".concat(scriptText, \"\\n\").concat(sourceUrl, \"}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);\");\n}\n\n// for prefetch\nfunction _getExternalStyleSheets(styles) {\n  var fetch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultFetch;\n  return allSettledButCanBreak(styles.map( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(styleLink) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!isInlineCode(styleLink)) {\n              _context.next = 4;\n              break;\n            }\n            return _context.abrupt(\"return\", getInlineCode(styleLink));\n          case 4:\n            return _context.abrupt(\"return\", styleCache[styleLink] || (styleCache[styleLink] = fetch(styleLink).then(function (response) {\n              if (response.status >= 400) {\n                throw new Error(\"\".concat(styleLink, \" load failed with status \").concat(response.status));\n              }\n              return response.text();\n            })[\"catch\"](function (e) {\n              try {\n                if (e.message.indexOf(styleLink) === -1) {\n                  e.message = \"\".concat(styleLink, \" \").concat(e.message);\n                }\n              } catch (_) {\n                // e.message 可能是 readonly，此时会触发异常\n              }\n              throw e;\n            })));\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }())).then(function (results) {\n    return results.map(function (result, i) {\n      if (result.status === 'fulfilled') {\n        result.value = {\n          src: styles[i],\n          value: result.value\n        };\n      }\n      return result;\n    }).filter(function (result) {\n      // 忽略失败的请求，避免异常下载阻塞后续资源加载\n      if (result.status === 'rejected') {\n        Promise.reject(result.reason);\n      }\n      return result.status === 'fulfilled';\n    }).map(function (result) {\n      return result.value;\n    });\n  });\n}\n\n// for prefetch\nexport { _getExternalStyleSheets as getExternalStyleSheets };\nfunction _getExternalScripts(scripts) {\n  var fetch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultFetch;\n  var entry = arguments.length > 2 ? arguments[2] : undefined;\n  var fetchScript = function fetchScript(scriptUrl, opts) {\n    return scriptCache[scriptUrl] || (scriptCache[scriptUrl] = fetch(scriptUrl, opts).then(function (response) {\n      // usually browser treats 4xx and 5xx response of script loading as an error and will fire a script error event\n      // https://stackoverflow.com/questions/5625420/what-http-headers-responses-trigger-the-onerror-handler-on-a-script-tag/5625603\n      if (response.status >= 400) {\n        throw new Error(\"\".concat(scriptUrl, \" load failed with status \").concat(response.status));\n      }\n      return response.text();\n    })[\"catch\"](function (e) {\n      try {\n        if (e.message.indexOf(scriptUrl) === -1) {\n          e.message = \"\".concat(scriptUrl, \" \").concat(e.message);\n        }\n      } catch (_) {\n        // e.message 可能是 readonly，此时会触发异常\n      }\n      throw e;\n    }));\n  };\n\n  // entry js 下载失败应该直接 break\n  var shouldBreakWhileError = function shouldBreakWhileError(i) {\n    return scripts[i] === entry;\n  };\n  return allSettledButCanBreak(scripts.map( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(script) {\n      var src, async, crossOrigin, fetchOpts;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(typeof script === 'string')) {\n              _context2.next = 8;\n              break;\n            }\n            if (!isInlineCode(script)) {\n              _context2.next = 5;\n              break;\n            }\n            return _context2.abrupt(\"return\", getInlineCode(script));\n          case 5:\n            return _context2.abrupt(\"return\", fetchScript(script));\n          case 6:\n            _context2.next = 13;\n            break;\n          case 8:\n            // use idle time to load async script\n            src = script.src, async = script.async, crossOrigin = script.crossOrigin;\n            fetchOpts = crossOrigin ? {\n              credentials: 'include'\n            } : {};\n            if (!async) {\n              _context2.next = 12;\n              break;\n            }\n            return _context2.abrupt(\"return\", {\n              src: src,\n              async: true,\n              content: new Promise(function (resolve, reject) {\n                return requestIdleCallback(function () {\n                  return fetchScript(src, fetchOpts).then(resolve, reject);\n                });\n              })\n            });\n          case 12:\n            return _context2.abrupt(\"return\", fetchScript(src, fetchOpts));\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }()), shouldBreakWhileError).then(function (results) {\n    return results.map(function (result, i) {\n      if (result.status === 'fulfilled') {\n        result.value = {\n          src: scripts[i],\n          value: result.value\n        };\n      }\n      return result;\n    }).filter(function (result) {\n      // 忽略失败的请求，避免异常下载阻塞后续资源加载\n      if (result.status === 'rejected') {\n        Promise.reject(result.reason);\n      }\n      return result.status === 'fulfilled';\n    }).map(function (result) {\n      return result.value;\n    });\n  });\n}\nexport { _getExternalScripts as getExternalScripts };\nfunction throwNonBlockingError(error, msg) {\n  setTimeout(function () {\n    console.error(msg);\n    throw error;\n  });\n}\nvar supportsUserTiming = typeof performance !== 'undefined' && typeof performance.mark === 'function' && typeof performance.clearMarks === 'function' && typeof performance.measure === 'function' && typeof performance.clearMeasures === 'function';\n\n/**\n * FIXME to consistent with browser behavior, we should only provide callback way to invoke success and error event\n * @param entry\n * @param scripts\n * @param proxy\n * @param opts\n * @returns {Promise<unknown>}\n */\nfunction _execScripts(entry, scripts) {\n  var proxy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var _opts$fetch2 = opts.fetch,\n    fetch = _opts$fetch2 === void 0 ? defaultFetch : _opts$fetch2,\n    _opts$strictGlobal = opts.strictGlobal,\n    strictGlobal = _opts$strictGlobal === void 0 ? false : _opts$strictGlobal,\n    success = opts.success,\n    _opts$error = opts.error,\n    error = _opts$error === void 0 ? function () {} : _opts$error,\n    _opts$beforeExec = opts.beforeExec,\n    beforeExec = _opts$beforeExec === void 0 ? function () {} : _opts$beforeExec,\n    _opts$afterExec = opts.afterExec,\n    afterExec = _opts$afterExec === void 0 ? function () {} : _opts$afterExec,\n    _opts$scopedGlobalVar2 = opts.scopedGlobalVariables,\n    scopedGlobalVariables = _opts$scopedGlobalVar2 === void 0 ? [] : _opts$scopedGlobalVar2;\n  return _getExternalScripts(scripts, fetch, entry).then(function (scriptsText) {\n    var geval = function geval(scriptSrc, inlineScript) {\n      var rawCode = beforeExec(inlineScript, scriptSrc) || inlineScript;\n      var code = getExecutableScript(scriptSrc, rawCode, {\n        proxy: proxy,\n        strictGlobal: strictGlobal,\n        scopedGlobalVariables: scopedGlobalVariables\n      });\n      evalCode(scriptSrc, code);\n      afterExec(inlineScript, scriptSrc);\n    };\n    function exec(scriptSrc, inlineScript, resolve) {\n      var markName = \"Evaluating script \".concat(scriptSrc);\n      var measureName = \"Evaluating Time Consuming: \".concat(scriptSrc);\n      if (process.env.NODE_ENV === 'development' && supportsUserTiming) {\n        performance.mark(markName);\n      }\n      if (scriptSrc === entry) {\n        noteGlobalProps(strictGlobal ? proxy : window);\n        try {\n          geval(scriptSrc, inlineScript);\n          var exports = proxy[getGlobalProp(strictGlobal ? proxy : window)] || {};\n          resolve(exports);\n        } catch (e) {\n          // entry error must be thrown to make the promise settled\n          console.error(\"[import-html-entry]: error occurs while executing entry script \".concat(scriptSrc));\n          throw e;\n        }\n      } else {\n        if (typeof inlineScript === 'string') {\n          try {\n            if (scriptSrc !== null && scriptSrc !== void 0 && scriptSrc.src) {\n              geval(scriptSrc.src, inlineScript);\n            } else {\n              geval(scriptSrc, inlineScript);\n            }\n          } catch (e) {\n            // consistent with browser behavior, any independent script evaluation error should not block the others\n            throwNonBlockingError(e, \"[import-html-entry]: error occurs while executing normal script \".concat(scriptSrc));\n          }\n        } else {\n          // external script marked with async\n          inlineScript.async && (inlineScript === null || inlineScript === void 0 ? void 0 : inlineScript.content.then(function (downloadedScriptText) {\n            return geval(inlineScript.src, downloadedScriptText);\n          })[\"catch\"](function (e) {\n            throwNonBlockingError(e, \"[import-html-entry]: error occurs while executing async script \".concat(inlineScript.src));\n          }));\n        }\n      }\n      if (process.env.NODE_ENV === 'development' && supportsUserTiming) {\n        performance.measure(measureName, markName);\n        performance.clearMarks(markName);\n        performance.clearMeasures(measureName);\n      }\n    }\n    function schedule(i, resolvePromise) {\n      if (i < scriptsText.length) {\n        var script = scriptsText[i];\n        var scriptSrc = script.src;\n        var inlineScript = script.value;\n        exec(scriptSrc, inlineScript, resolvePromise);\n        // resolve the promise while the last script executed and entry not provided\n        if (!entry && i === scriptsText.length - 1) {\n          resolvePromise();\n        } else {\n          schedule(i + 1, resolvePromise);\n        }\n      }\n    }\n    return new Promise(function (resolve) {\n      return schedule(0, success || resolve);\n    });\n  })[\"catch\"](function (e) {\n    error();\n    throw e;\n  });\n}\nexport { _execScripts as execScripts };\nexport default function importHTML(url) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var fetch = defaultFetch;\n  var autoDecodeResponse = false;\n  var getPublicPath = defaultGetPublicPath;\n  var getTemplate = defaultGetTemplate;\n  var postProcessTemplate = opts.postProcessTemplate;\n\n  // compatible with the legacy importHTML api\n  if (typeof opts === 'function') {\n    fetch = opts;\n  } else {\n    // fetch option is availble\n    if (opts.fetch) {\n      // fetch is a funciton\n      if (typeof opts.fetch === 'function') {\n        fetch = opts.fetch;\n      } else {\n        // configuration\n        fetch = opts.fetch.fn || defaultFetch;\n        autoDecodeResponse = !!opts.fetch.autoDecodeResponse;\n      }\n    }\n    getPublicPath = opts.getPublicPath || opts.getDomain || defaultGetPublicPath;\n    getTemplate = opts.getTemplate || defaultGetTemplate;\n  }\n  return embedHTMLCache[url] || (embedHTMLCache[url] = fetch(url).then(function (response) {\n    return readResAsString(response, autoDecodeResponse);\n  }).then(function (html) {\n    var assetPublicPath = getPublicPath(url);\n    var _processTpl = processTpl(getTemplate(html), assetPublicPath, postProcessTemplate),\n      template = _processTpl.template,\n      scripts = _processTpl.scripts,\n      entry = _processTpl.entry,\n      styles = _processTpl.styles;\n    return getEmbedHTML(template, styles, {\n      fetch: fetch\n    }).then(function (embedHTML) {\n      return {\n        template: embedHTML,\n        assetPublicPath: assetPublicPath,\n        getExternalScripts: function getExternalScripts() {\n          return _getExternalScripts(scripts, fetch);\n        },\n        getExternalStyleSheets: function getExternalStyleSheets() {\n          return _getExternalStyleSheets(styles, fetch);\n        },\n        execScripts: function execScripts(proxy, strictGlobal) {\n          var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          if (!scripts.length) {\n            return Promise.resolve();\n          }\n          return _execScripts(entry, scripts, proxy, _objectSpread({\n            fetch: fetch,\n            strictGlobal: strictGlobal\n          }, opts));\n        }\n      };\n    });\n  }));\n}\nexport function importEntry(entry) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _opts$fetch3 = opts.fetch,\n    fetch = _opts$fetch3 === void 0 ? defaultFetch : _opts$fetch3,\n    _opts$getTemplate = opts.getTemplate,\n    getTemplate = _opts$getTemplate === void 0 ? defaultGetTemplate : _opts$getTemplate,\n    postProcessTemplate = opts.postProcessTemplate;\n  var getPublicPath = opts.getPublicPath || opts.getDomain || defaultGetPublicPath;\n  if (!entry) {\n    throw new SyntaxError('entry should not be empty!');\n  }\n\n  // html entry\n  if (typeof entry === 'string') {\n    return importHTML(entry, {\n      fetch: fetch,\n      getPublicPath: getPublicPath,\n      getTemplate: getTemplate,\n      postProcessTemplate: postProcessTemplate\n    });\n  }\n\n  // config entry\n  if (Array.isArray(entry.scripts) || Array.isArray(entry.styles)) {\n    var _entry$scripts = entry.scripts,\n      scripts = _entry$scripts === void 0 ? [] : _entry$scripts,\n      _entry$styles = entry.styles,\n      styles = _entry$styles === void 0 ? [] : _entry$styles,\n      _entry$html = entry.html,\n      html = _entry$html === void 0 ? '' : _entry$html;\n    var getHTMLWithStylePlaceholder = function getHTMLWithStylePlaceholder(tpl) {\n      return styles.reduceRight(function (html, styleSrc) {\n        return \"\".concat(genLinkReplaceSymbol(styleSrc)).concat(html);\n      }, tpl);\n    };\n    var getHTMLWithScriptPlaceholder = function getHTMLWithScriptPlaceholder(tpl) {\n      return scripts.reduce(function (html, scriptSrc) {\n        return \"\".concat(html).concat(genScriptReplaceSymbol(scriptSrc));\n      }, tpl);\n    };\n    return getEmbedHTML(getTemplate(getHTMLWithScriptPlaceholder(getHTMLWithStylePlaceholder(html))), styles, {\n      fetch: fetch\n    }).then(function (embedHTML) {\n      return {\n        template: embedHTML,\n        assetPublicPath: getPublicPath(entry),\n        getExternalScripts: function getExternalScripts() {\n          return _getExternalScripts(scripts, fetch);\n        },\n        getExternalStyleSheets: function getExternalStyleSheets() {\n          return _getExternalStyleSheets(styles, fetch);\n        },\n        execScripts: function execScripts(proxy, strictGlobal) {\n          var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          if (!scripts.length) {\n            return Promise.resolve();\n          }\n          return _execScripts(scripts[scripts.length - 1], scripts, proxy, _objectSpread({\n            fetch: fetch,\n            strictGlobal: strictGlobal\n          }, opts));\n        }\n      };\n    });\n  } else {\n    throw new SyntaxError('entry scripts or styles should be array!');\n  }\n}"],"names":["requestIdleCallback","genLinkReplaceSymbol","genScriptReplaceSymbol","genIgnoreAssetReplaceSymbol","genModuleScriptReplaceSymbol","isInlineCode","fetchScript","shouldBreakWhileError","geval","opts","getHTMLWithStylePlaceholder","html","getHTMLWithScriptPlaceholder"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}
{"version":3,"mappings":"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","names":["i18n","_createBlock","_unref","enUS","zhCN","_createVNode","app","I18n","App"],"ignoreList":[],"sources":["../../src/lang/index.js","../../src/App.vue","../../src/router/index.js","../../src/utils/ant-design-vue.js","../../src/utils/utils.js","../../src/main.js"],"sourcesContent":["import { nextTick } from \"vue\";\r\nimport { createI18n } from \"vue-i18n\";\r\n\r\nconst options = {\r\n  legacy: false,\r\n  locale: \"zh\",\r\n  fallbackLocale: \"zh\",\r\n};\r\n\r\nexport const i18n = createI18n(options);\r\n\r\nexport function setupI18n() {\r\n  setI18nLanguage(i18n, options?.locale ?? \"zh\");\r\n  return i18n;\r\n}\r\n\r\nexport function setI18nLanguage(i18n, locale) {\r\n  if (\"mode\" in i18n && i18n.mode === \"legacy\") {\r\n    i18n.global.locale = locale;\r\n  } else {\r\n    i18n.global.locale.value = locale;\r\n  }\r\n  document.querySelector(\"html\")?.setAttribute(\"lang\", locale);\r\n}\r\n\r\nexport async function loadLocaleMessages(i18n, locale) {\r\n  const localFilename = locale.split(\"-\")[0];\r\n  const messages = await import(`./locales/${localFilename}.json`\r\n  );\r\n  i18n.global.setLocaleMessage(locale, { ...messages });\r\n\r\n  return nextTick();\r\n}\r\n","<template>\n  <a-config-provider :locale=\"lang === 'en' ? enUS : zhCN\">\n    <RouterView />\n  </a-config-provider>\n</template>\n\n<script setup>\nimport { ref, watch } from \"vue\";\nimport enUS from \"ant-design-vue/es/locale/en_US.js\";\nimport zhCN from \"ant-design-vue/es/locale/zh_CN.js\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/zh-cn.js\";\nimport \"dayjs/locale/en.js\";\nimport { useI18n } from \"vue-i18n\";\nimport { i18n, loadLocaleMessages } from \"@/lang/index.js\";\n\ndayjs.locale(\"zh-cn\");\nconst lang = ref(\"zh\");\n\nconst { locale } = useI18n();\n\nwatch(\n  () => locale.value,\n  (val) => {\n    console.log(val);\n    if (val === \"en\") {\n      dayjs.locale(\"en-us\");\n      lang.value = \"en\";\n      loadLocaleMessages(i18n, lang.value)\n    } else {\n      dayjs.locale(\"zh-cn\");\n      lang.value = \"zh\";\n      loadLocaleMessages(i18n, lang.value)\n    }\n  },\n  { deep: true }\n);\n</script>\n\n<style lang=\"less\" scoped></style>\n","import { createRouter, createWebHashHistory } from \"vue-router\";\r\n\r\nconst router = createRouter({\r\n  // 这里的import.meta.env.BASE_URL取值于vite.config.js中的base属性。\r\n  // 只有在生产环境才需要加/h5/前缀访问。\r\n  // history: createWebHistory(import.meta.env.BASE_URL),\r\n  // github pages为静态托管，不支持history模式\r\n  history: createWebHashHistory(),\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      component: () => import(\"@/components/layout.vue\"),\r\n      redirect: \"home\",\r\n      children: [\r\n        {\r\n          path: \"home\",\r\n          name: \"home\",\r\n          component: () => import(\"@/views/home/index.vue\"),\r\n        },\r\n        // 微应用路由配置\r\n        {\r\n          path: \"vue-app\",\r\n          name: \"vueAppContainer\",\r\n          component: () => import(\"@/components/microApp.vue\"),\r\n          meta: { title: \"微应用容器\" },\r\n          children: [\r\n            // 捕获所有微应用子路由\r\n            {\r\n              path: \":pathMatch(.*)*\",\r\n              component: () => import(\"@/components/microApp.vue\"),\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n});\r\n\r\nexport default router;\r\n","import {\r\n  Button,\r\n  Layout,\r\n  // Alert,\r\n  // Breadcrumb,\r\n  // Menu,\r\n  // Form,\r\n  // Input,\r\n  // message,\r\n  // Table,\r\n  // DatePicker,\r\n  // Select,\r\n  // Row,\r\n  // Col,\r\n  // ConfigProvider,\r\n  Dropdown,\r\n  Avatar,\r\n} from \"ant-design-vue\";\r\n\r\nexport default function installAntd(app) {\r\n  app.use(Button);\r\n  app.use(Layout);\r\n  // app.use(Alert);\r\n  // app.use(Breadcrumb);\r\n  // app.use(Menu);\r\n  // app.use(Form);\r\n  // app.use(Input);\r\n  // app.use(Table);\r\n  // app.use(DatePicker);\r\n  // app.use(Select);\r\n  // app.use(Row);\r\n  // app.use(Col);\r\n  // app.use(ConfigProvider);\r\n  app.use(Dropdown);\r\n  app.use(Avatar);\r\n  // message.config({\r\n  //   top: `100px`,\r\n  //   duration: 2,\r\n  //   maxCount: 3,\r\n  //   rtl: true,\r\n  //   prefixCls: \"my-message\",\r\n  // });\r\n  // app.provide(\"$message\", message);\r\n}\r\n","import { loadLocaleMessages, setI18nLanguage } from \"@/lang/index.js\";\r\n\r\nexport async function initI18n(I18n) {\r\n  const lang = \"zh\";\r\n  if (lang === \"zh\" || !I18n.global.availableLocales.includes(lang)) {\r\n    await loadLocaleMessages(I18n, lang);\r\n  }\r\n  setI18nLanguage(I18n, lang);\r\n}\r\n","import \"./assets/style/normalize.css\";\nimport \"./assets/style/base.css\";\n\nimport { createApp } from \"vue\";\nimport { createPinia } from \"pinia\";\n\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport installAntd from \"@/utils/ant-design-vue.js\";\n\nimport { setupI18n } from \"./lang/index.js\";\nimport { initI18n } from \"./utils/utils.js\";\n\n// 按需异步加载i18n\nconst I18n = setupI18n();\ninitI18n(I18n);\n\n// 使用svg\n// import 'virtual:svg-icons-register'\n// import SvgIcon from './utils/svgIcon/index.vue'\n\nconst app = createApp(App);\ninstallAntd(app);\napp.use(createPinia());\napp.use(router);\napp.use(I18n);\n// app.component('svg-icon', SvgIcon)\n\napp.mount(\"#app\");\n"],"file":"assets/index-Bx4DmOEU.js"}